{% extends "layout.html" %}

{% block title %}ESP-Crash Projects view{% endblock %}
{% block content %}
<div class="flex">
    <h1 class="mb-3 text-3xl leading-none text-slate-900">Hello <b>{{session.gh_user}}</b></h1>
</div>
<div class="w-5/6 p-8 bg-white border border-gray-200 rounded-lg shadow mt-4">
    <div class="flex items-center justify-between mb-4">Projects you are registered to:</div>
    <div class="flow-root">
        <ul role="list" class="divide-y divide-gray-200">
            {% for project in projects %}
            <li class="py-4">
                <div class="flex items-center space-x-4">
                    <div class="flex-shrink-0">
                        <a href="{{ url_for('listProjectCrashes', project_name=project.project_name) }}">
                            <svg class="w-6 h-6 stroke-current" xmlns="http://www.w3.org/2000/svg" fill="none"
                                viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M16 8v8m-4-5v5m-4-2v2m-2 4h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
                            </svg>
                        </a>
                    </div>
                    <div class="flex-1 min-w-0">
                        <a href="{{ url_for('listProjectCrashes', project_name=project.project_name) }}">{{project.project_name}}</a>
                    </div>
                    <div class="inline-flex items-center text-base font-semibold text-gray-900">
                        <a href="{{ url_for('listProjectCrashes', project_name=project.project_name) }}">
                            {{project.crash_count}} crashes
                        </a>
                    </div>
                </div>
            </li>
            {% endfor %}
        </ul>
    </div>
</div>
<div class="max-w-md p-8 bg-white border border-gray-200 rounded-lg shadow mt-4">
    <h2 class="text-2xl">Register new project:</h2>
    <form action="{{ url_for('createProject') }}" method="post" class="space-y-4">
        <label for="project_name" class="text-lg">Project Name:</label>
        <input type="text" id="project_name" name="project_name" class="p-2 border-2 border-gray-300 rounded-md">
        <input type="submit" value="Submit" class="p-2 bg-blue-500 text-white rounded-md">
    </form>
</div>
{% endblock %}